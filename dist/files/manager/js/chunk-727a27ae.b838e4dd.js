(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-727a27ae"],{1361:function(t,e,a){"use strict";a("f736")},"19f5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{attrs:{gutter:12}},[e("el-col",{attrs:{span:14}},[e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLog,expression:"loadingLog"}],attrs:{shadow:"always"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[null!==t.time?e("span",["wait"===t.time.Status?e("span",[e("b",[t._v(t._s(t.$t("panel.not_begin")))])]):t._e(),"on"===t.time.Status?e("span",{domProps:{innerHTML:t._s(t.$t("panel.til_round_end",{round:t.time.NowRound,minute:t.minute,second:t.second}))}}):t._e(),"pause"===t.time.Status?e("span",[e("b",[t._v(t._s(t.$t("panel.pause")))])]):t._e(),"end"===t.time.Status?e("span",[e("b",[t._v(t._s(t.$t("panel.end")))])]):t._e()]):t._e(),e("el-popover",{staticStyle:{float:"right"},attrs:{placement:"bottom",title:"",width:"300",trigger:"click"}},[e("p",[t._v(t._s(t.$t("panel.previous_round_zero_title"))+t._s(t.panel.PreviousRoundScore)+" "),t.panel.PreviousRoundScore<=0?e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(" "+t._s(t.$t("panel.ok"))+" ")]):e("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(t.$t("panel.zero_alert")))])],1),e("p",[t._v(t._s(t.$t("panel.total_zero_title"))+t._s(t.panel.TotalScore)+" "),t.panel.TotalScore<=0?e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.$t("panel.ok"))+" ")]):e("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(t.$t("panel.zero_alert")))])],1),e("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("panel.debug_info")))])],1),null!==t.time?e("el-progress",{attrs:{"text-inside":!0,"stroke-width":17,percentage:t.progressPercent}}):t._e()],1),e("div",{staticClass:"system-log"},t._l(t.logs,(function(a,s){return e("div",{key:s},[e("div",{staticClass:"system-log-body"},[e("span",{staticClass:"system-log-time"},[t._v("["+t._s(t.utils.FormatGoTime(a.CreatedAt))+"]")]),e("span",{class:"system-log-"+["normal","warning","important"][a.Level]},[t._v(" ["+t._s(["NORMAL","WARNING","IMPORTANT"][a.Level])+"] ")]),e("span",{staticClass:"system-log-message"},[t._v(t._s(a.Content))])])])})),0)])],1),e("el-col",{attrs:{span:10}},[e("el-card",{attrs:{shadow:"always"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rank,stripe:"",height:"530","max-height":"530",size:"small"}},[e("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),e("el-table-column",{attrs:{prop:"TeamName",label:t.$t("panel.team")}}),e("el-table-column",{attrs:{prop:"Score",label:t.$t("panel.score"),formatter:function(e){return t.utils.FormatFloat(e.Score)}}}),t._l(t.rankHeader,(function(a,s){return e("el-table-column",{key:s,attrs:{label:a},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{class:t.statusClass(a.row.GameBoxStatus[s].IsAttacked,a.row.GameBoxStatus[s].IsDown),attrs:{score:t.utils.FormatFloat(a.row.GameBoxStatus[s].Score)}},[t._v(t._s(t.utils.FormatFloat(a.row.GameBoxStatus[s].Score)))])]}}],null,!0)})}))],2),e("br")],1),e("br"),e("el-card",[e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"panel",attrs:{span:6}},[e("p",{staticClass:"panel-data"},[t._v(t._s(t.panel.SubmitFlag))]),e("span",{staticClass:"panel-text"},[t._v(t._s(t.$t("panel.submit_flag_count")))])]),e("el-col",{staticClass:"panel",attrs:{span:6}},[e("p",{staticClass:"panel-data"},[t._v(t._s(t.panel.CheckDown))]),e("span",{staticClass:"panel-text"},[t._v(t._s(t.$t("panel.checkdown_count")))])]),e("el-col",{staticClass:"panel",attrs:{span:6}},[e("p",{staticClass:"panel-data"},[t._v(t._s(t.panel.MemAllocated))]),e("span",{staticClass:"panel-text"},[t._v(t._s(t.$t("panel.memory_allocated")))])]),e("el-col",{staticClass:"panel",staticStyle:{"border-right-width":"0"},attrs:{span:6}},[e("p",{staticClass:"panel-data"},[t._v(t._s(t.panel.NumGoroutine))]),e("span",{staticClass:"panel-text"},[t._v(t._s(t.$t("panel.goroutine_count")))])])],1)],1)],1)],1)],1)},n=[],l=(a("a9e3"),a("b680"),{name:"DataPanel",data:function(){return{timer:null,tickTimer:null,loadingLog:!1,time:null,minute:0,second:0,logs:[],rank:[],rankHeader:[],panel:{}}},mounted:function(){var t=this;this.loop(),this.timer=setInterval(this.loop,5e3),this.tickTimer=setInterval((function(){null!==t.time&&(t.time["RoundRemainTime"]--<=0&&(t.time.RoundRemainTime=60*t.time.Duration,t.time.NowRound++),t.minute=Math.floor(t.time.RoundRemainTime/60),t.second=t.time.RoundRemainTime-60*t.minute)}),1e3)},beforeDestroy:function(){clearInterval(this.timer),clearInterval(this.tickTimer)},methods:{loop:function(){this.getTime(),this.getLogs(),this.getRank(),this.getPanel()},getTime:function(){var t=this;this.utils.GET("/time").then((function(e){t.time=e})).catch((function(e){return t.$message({message:e,type:"error"})}))},getLogs:function(){var t=this;this.loadingLog=!0,this.utils.GET("/manager/logs").then((function(e){t.logs=e,t.loadingLog=!1})).catch((function(e){return t.$message({message:e,type:"error"})}))},getRank:function(){var t=this;this.utils.GET("/manager/rank").then((function(e){t.rank=e.Rank,t.rankHeader=e.Title})).catch((function(e){return t.$message({message:e,type:"error"})}))},getPanel:function(){var t=this;this.utils.GET("/manager/panel").then((function(e){t.panel=e})).catch((function(e){return t.$message({message:e,type:"error"})}))},statusClass:function(t,e){return t&&e?"status-double":t?"status-attacked":e?"status-down":"status-normal"}},computed:{progressPercent:function(){var t=Number((((new Date).getTime()/1e3-this.time.BeginTime)/(this.time.EndTime-this.time.BeginTime)*100).toFixed(2));return t>100?100:t}}}),i=l,o=(a("1361"),a("2877")),r=Object(o["a"])(i,s,n,!1,null,"e8233dd8",null);e["default"]=r.exports},f736:function(t,e,a){}}]);