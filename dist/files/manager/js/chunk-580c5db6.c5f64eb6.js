(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-580c5db6"],{"98ed":function(e,l,t){"use strict";t.r(l);t("e9c4"),t("b64b");var n=function(){var e=this,l=e._self._c;return l("div",[l("el-button",{attrs:{type:"primary"},on:{click:function(l){e.newChallengeDialogVisible=!0}}},[e._v(e._s(e.$t("challenge.new")))]),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.challengeList,stripe:""}},[l("el-table-column",{attrs:{width:"80",prop:"ID",label:"ID"}}),l("el-table-column",{attrs:{prop:"Title",label:e.$t("challenge.title")}}),l("el-table-column",{attrs:{prop:"BaseScore",label:e.$t("challenge.base_score")}}),l("el-table-column",{attrs:{prop:"Visible",label:e.$t("challenge.visible")},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(e._s(l.row.Visible))]}}])}),l("el-table-column",{attrs:{prop:"AutoRefreshFlag",label:e.$t("challenge.auto_refresh_flag")},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(e._s(l.row.AutoRefreshFlag))]}}])}),l("el-table-column",{attrs:{prop:"Command",label:e.$t("challenge.command")}}),l("el-table-column",{attrs:{label:e.$t("general.create_at"),width:"200",formatter:function(l){return e.utils.FormatGoTime(l.CreatedAt)}}}),l("el-table-column",{attrs:{label:e.$t("general.operate"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popconfirm",{attrs:{title:t.row.Visible?e.$t("challenge.invisible_title"):e.$t("challenge.visible_title")},on:{onConfirm:function(l){return e.handleVisible(t.row.ID,!t.row.Visible)}}},[l("el-button",{attrs:{slot:"reference",plain:"",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("challenge.set_visible")))])],1),l("el-button",{attrs:{size:"mini"},on:{click:function(){e.editChallengeForm=JSON.parse(JSON.stringify(t.row)),e.editChallengeDialogVisible=!0}}},[e._v(" "+e._s(e.$t("general.edit"))+" ")]),l("el-popconfirm",{attrs:{confirmButtonText:e.$t("general.confirm_cancel"),cancelButtonText:e.$t("general.cancel"),icon:"el-icon-info",iconColor:"red",title:e.$t("challenge.delete_title")},on:{onConfirm:function(l){return e.handleDelete(t.row)}}},[l("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v(e._s(e.$t("general.delete"))+" ")])],1)]}}])})],1),l("el-dialog",{attrs:{title:e.$t("challenge.publish"),visible:e.newChallengeDialogVisible},on:{"update:visible":function(l){e.newChallengeDialogVisible=l}}},[l("el-form",{attrs:{model:e.newChallengeForm,"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.$t("challenge.title")}},[l("el-input",{model:{value:e.newChallengeForm.Title,callback:function(l){e.$set(e.newChallengeForm,"Title",l)},expression:"newChallengeForm.Title"}})],1),l("el-form-item",{attrs:{label:e.$t("challenge.base_score")}},[l("el-input-number",{attrs:{min:1},model:{value:e.newChallengeForm.BaseScore,callback:function(l){e.$set(e.newChallengeForm,"BaseScore",l)},expression:"newChallengeForm.BaseScore"}})],1),l("el-form-item",{attrs:{label:e.$t("challenge.auto_refresh_flag")}},[l("el-switch",{model:{value:e.newChallengeForm.AutoRefreshFlag,callback:function(l){e.$set(e.newChallengeForm,"AutoRefreshFlag",l)},expression:"newChallengeForm.AutoRefreshFlag"}})],1),e.newChallengeForm.AutoRefreshFlag?l("el-form-item",{attrs:{label:e.$t("challenge.command")}},[l("el-input",{model:{value:e.newChallengeForm.Command,callback:function(l){e.$set(e.newChallengeForm,"Command",l)},expression:"newChallengeForm.Command"}}),l("span",[e._v(e._s(e.$t("challenge.flag_placeholder"))),l("code",{pre:!0},[e._v("{{FLAG}}")])])],1):e._e()],1),l("el-button",{attrs:{type:"primary"},on:{click:e.onNewChallenge}},[e._v(e._s(e.$t("challenge.publish")))])],1),l("el-dialog",{attrs:{title:e.$t("challenge.edit"),visible:e.editChallengeDialogVisible},on:{"update:visible":function(l){e.editChallengeDialogVisible=l}}},[l("el-form",{attrs:{model:e.editChallengeForm,"label-width":"120px"}},[l("el-form-item",{attrs:{label:e.$t("challenge.title")}},[l("el-input",{model:{value:e.editChallengeForm.Title,callback:function(l){e.$set(e.editChallengeForm,"Title",l)},expression:"editChallengeForm.Title"}})],1),l("el-form-item",{attrs:{label:e.$t("challenge.base_score")}},[l("el-input-number",{attrs:{min:1},model:{value:e.editChallengeForm.BaseScore,callback:function(l){e.$set(e.editChallengeForm,"BaseScore",l)},expression:"editChallengeForm.BaseScore"}})],1),l("el-form-item",{attrs:{label:e.$t("challenge.auto_refresh_flag")}},[l("el-switch",{model:{value:e.editChallengeForm.AutoRefreshFlag,callback:function(l){e.$set(e.editChallengeForm,"AutoRefreshFlag",l)},expression:"editChallengeForm.AutoRefreshFlag"}})],1),e.editChallengeForm.AutoRefreshFlag?l("el-form-item",{attrs:{label:e.$t("challenge.command")}},[l("el-input",{model:{value:e.editChallengeForm.Command,callback:function(l){e.$set(e.editChallengeForm,"Command",l)},expression:"editChallengeForm.Command"}}),l("span",[e._v(e._s(e.$t("challenge.flag_placeholder"))),l("code",{pre:!0},[e._v("{{FLAG}}")])])],1):e._e()],1),l("el-button",{attrs:{type:"primary"},on:{click:e.onEditChallenge}},[e._v(e._s(e.$t("challenge.edit")))])],1)],1)},a=[],i={name:"Challenge",data:function(){return{isLoading:!0,challengeList:null,newChallengeDialogVisible:!1,editChallengeDialogVisible:!1,newChallengeForm:{Title:"",BaseScore:1e3,AutoRefreshFlag:!1,Command:"echo {{FLAG}} > /flag"},editChallengeForm:{Title:"",BaseScore:1e3,AutoRefreshFlag:!1,Command:""}}},mounted:function(){this.getChallenges()},methods:{getChallenges:function(){var e=this;this.utils.GET("/manager/challenges").then((function(l){e.challengeList=l,e.isLoading=!1})).catch((function(l){return e.$message.error(l)}))},onNewChallenge:function(){var e=this;this.utils.POST("/manager/challenge",this.newChallengeForm).then((function(l){e.newChallengeDialogVisible=!1,e.newChallengeForm={Title:"",BaseScore:1e3,AutoRefreshFlag:!1,Command:"echo {{FLAG}} > /flag"},e.getChallenges(),e.$message({message:l,type:"success"})})).catch((function(l){return e.$message({message:l,type:"error"})}))},onEditChallenge:function(){var e=this;this.utils.PUT("/manager/challenge",this.editChallengeForm).then((function(l){e.editChallengeDialogVisible=!1,e.getChallenges(),e.$message({message:l,type:"success"})})).catch((function(l){return e.$message({message:l,type:"error"})}))},handleDelete:function(e){var l=this;this.utils.DELETE("/manager/challenge?id="+e.ID).then((function(e){l.$message({message:e,type:"success"}),l.getChallenges()})).catch((function(e){return l.$message({message:e,type:"error"})}))},handleVisible:function(e,l){var t=this;this.utils.POST("/manager/challenge/visible",{ID:e,Visible:l}).then((function(e){t.$message({message:e,type:"success"}),t.getChallenges()})).catch((function(e){return t.$message({message:e,type:"error"})}))}}},r=i,o=t("2877"),s=Object(o["a"])(r,n,a,!1,null,"59b1c69b",null);l["default"]=s.exports},b64b:function(e,l,t){"use strict";var n=t("23e7"),a=t("7b0b"),i=t("df75"),r=t("d039"),o=r((function(){i(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(e){return i(a(e))}})},e267:function(e,l,t){"use strict";var n=t("e330"),a=t("e8b5"),i=t("1626"),r=t("c6b6"),o=t("577e"),s=n([].push);e.exports=function(e){if(i(e))return e;if(a(e)){for(var l=e.length,t=[],n=0;n<l;n++){var c=e[n];"string"==typeof c?s(t,c):"number"!=typeof c&&"Number"!==r(c)&&"String"!==r(c)||s(t,o(c))}var g=t.length,u=!0;return function(e,l){if(u)return u=!1,l;if(a(this))return l;for(var n=0;n<g;n++)if(t[n]===e)return l}}}},e9c4:function(e,l,t){"use strict";var n=t("23e7"),a=t("d066"),i=t("2ba4"),r=t("c65b"),o=t("e330"),s=t("d039"),c=t("1626"),g=t("d9b5"),u=t("f36a"),h=t("e267"),m=t("04f8"),f=String,d=a("JSON","stringify"),b=o(/./.exec),p=o("".charAt),C=o("".charCodeAt),F=o("".replace),v=o(1..toString),$=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,y=!m||s((function(){var e=a("Symbol")("stringify detection");return"[null]"!==d([e])||"{}"!==d({a:e})||"{}"!==d(Object(e))})),D=s((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")})),S=function(e,l){var t=u(arguments),n=h(l);if(c(n)||void 0!==e&&!g(e))return t[1]=function(e,l){if(c(n)&&(l=r(n,this,f(e),l)),!g(l))return l},i(d,null,t)},A=function(e,l,t){var n=p(t,l-1),a=p(t,l+1);return b(w,e)&&!b(_,a)||b(_,e)&&!b(w,n)?"\\u"+v(C(e,0),16):e};d&&n({target:"JSON",stat:!0,arity:3,forced:y||D},{stringify:function(e,l,t){var n=u(arguments),a=i(y?S:d,null,n);return D&&"string"==typeof a?F(a,$,A):a}})}}]);