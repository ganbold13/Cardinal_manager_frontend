(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab8f4"],{1692:function(e,n,a){"use strict";a.r(n);var t=function(){var e=this,n=e._self._c;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:function(n){e.newManagerDialogVisible=!0}}},[e._v(e._s(e.$t("manager.add")))]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.managerList,stripe:""}},[n("el-table-column",{attrs:{width:"80",prop:"ID",label:"ID"}}),n("el-table-column",{attrs:{prop:"Name",label:e.$t("manager.account")}}),n("el-table-column",{attrs:{prop:"IsCheck",label:e.$t("manager.is_check")},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v(e._s(n.row.IsCheck))]}}])}),n("el-table-column",{attrs:{prop:"Token",label:e.$t("manager.token")}}),n("el-table-column",{attrs:{label:e.$t("general.operate"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.Token!==e.token?n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.refreshToken(a.row.ID)}}},[e._v(e._s(e.$t("manager.refresh_token"))+" ")]):n("el-button",{attrs:{size:"mini",disabled:""}},[e._v(e._s(e.$t("manager.refresh_token")))]),a.row.IsCheck?e._e():n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(n){return e.editPassword(a.row.ID)}}},[e._v(" "+e._s(e.$t("manager.change_password"))+" ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.deleteManager(a.row.ID)}}},[e._v(" "+e._s(e.$t("manager.delete"))+" ")])]}}])})],1),n("el-dialog",{attrs:{title:e.$t("manager.add"),visible:e.newManagerDialogVisible},on:{"update:visible":function(n){e.newManagerDialogVisible=n}}},[n("el-form",{attrs:{model:e.newManagerForm,"label-width":"120px"}},[n("el-form-item",[n("el-checkbox",{model:{value:e.newManagerForm.IsCheck,callback:function(n){e.$set(e.newManagerForm,"IsCheck",n)},expression:"newManagerForm.IsCheck"}},[e._v(e._s(e.$t("manager.is_check")))])],1),n("el-form-item",{attrs:{label:e.$t("manager.account")}},[n("el-input",{model:{value:e.newManagerForm.Name,callback:function(n){e.$set(e.newManagerForm,"Name",n)},expression:"newManagerForm.Name"}})],1),e.newManagerForm.IsCheck?e._e():n("el-form-item",{attrs:{label:e.$t("manager.password")}},[n("el-input",{model:{value:e.newManagerForm.Password,callback:function(n){e.$set(e.newManagerForm,"Password",n)},expression:"newManagerForm.Password"}})],1)],1),n("el-button",{attrs:{type:"primary"},on:{click:e.onNewManager}},[e._v(e._s(e.$t("manager.add")))])],1)],1)},r=[],i={name:"Manager",data:function(){return{token:localStorage.getItem("managerToken"),newManagerDialogVisible:!1,managerList:null,newManagerForm:{Name:"",Password:"",IsCheck:!1}}},mounted:function(){this.getManager()},methods:{getManager:function(){var e=this;this.utils.GET("/manager/managers").then((function(n){e.managerList=n})).catch((function(n){return e.$message.error(n)}))},onNewManager:function(){var e=this;this.utils.POST("/manager/manager",this.newManagerForm).then((function(n){e.newManagerDialogVisible=!1,e.newManagerForm={Name:"",Password:"",IsCheck:!1},e.$message.success(n),e.getManager()})).catch((function(n){return e.$message.error(n)}))},editPassword:function(e){var n=this;this.$confirm(this.$i18n.t("manager.change_password_confirm"),this.$i18n.t("manager.confirm"),{confirmButtonText:this.$i18n.t("general.apply"),cancelButtonText:this.$i18n.t("general.cancel"),type:"warning"}).then((function(){n.utils.GET("/manager/manager/changePassword?id="+e).then((function(e){n.$alert(e,n.$i18n.t("manager.new_password"),{confirmButtonText:n.$i18n.t("manager.save_confirm")})})).catch((function(e){return n.$message.error(e)}))})).catch((function(){}))},deleteManager:function(e){var n=this;this.$confirm(this.$i18n.t("manager.delete_account_confirm"),this.$i18n.t("manager.confirm"),{confirmButtonText:this.$i18n.t("general.apply"),cancelButtonText:this.$i18n.t("general.cancel"),type:"warning"}).then((function(){n.utils.DELETE("/manager/manager?id="+e).then((function(e){n.getManager(),n.$message.success(e)})).catch((function(e){return n.$message.error(e)}))})).catch((function(){}))},refreshToken:function(e){var n=this;this.$confirm(this.$i18n.t("manager.refresh_token_confirm"),this.$i18n.t("manager.confirm"),{confirmButtonText:this.$i18n.t("general.apply"),cancelButtonText:this.$i18n.t("general.cancel"),type:"warning"}).then((function(){n.utils.GET("/manager/manager/token?id="+e).then((function(e){n.getManager(),n.$alert(e,n.$i18n.t("manager.new_token"),{confirmButtonText:n.$i18n.t("manager.save_confirm")})})).catch((function(e){return n.$message.error(e)}))})).catch((function(){}))}}},o=i,s=a("2877"),c=Object(s["a"])(o,t,r,!1,null,"794a3faa",null);n["default"]=c.exports}}]);