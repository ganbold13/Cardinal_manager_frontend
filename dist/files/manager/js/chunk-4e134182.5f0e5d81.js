(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e134182"],{"860d":function(e,o,t){"use strict";t.r(o);t("e9c4"),t("b64b");var n=function(){var e=this,o=e._self._c;return o("div",[o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.newWebHookDialogVisible=!0}}},[e._v(e._s(e.$t("webhook.add")))]),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.webHookList,stripe:""}},[o("el-table-column",{attrs:{width:"80",prop:"ID",label:"ID"}}),o("el-table-column",{attrs:{prop:"URL",label:e.$t("webhook.url")}}),o("el-table-column",{attrs:{prop:"Type",label:e.$t("webhook.type")},scopedSlots:e._u([{key:"default",fn:function(o){return[e._v(e._s(e.typeOptions[o.row.Type]))]}}])}),o("el-table-column",{attrs:{prop:"Token",label:e.$t("webhook.token")}}),o("el-table-column",{attrs:{width:"120",prop:"Retry",label:e.$t("webhook.retry")}}),o("el-table-column",{attrs:{width:"120",prop:"Timeout",label:e.$t("webhook.timeout")}}),o("el-table-column",{attrs:{label:e.$t("general.operate"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(){e.editWebHookForm=JSON.parse(JSON.stringify(t.row)),e.editWebHookDialogVisible=!0}}},[e._v(" "+e._s(e.$t("general.edit"))+" ")]),o("el-popconfirm",{attrs:{confirmButtonText:e.$t("general.confirm_cancel"),cancelButtonText:e.$t("general.cancel"),icon:"el-icon-info",iconColor:"red",title:e.$t("webhook.delete_title")},on:{onConfirm:function(o){return e.handleDelete(t.row)}}},[o("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v(e._s(e.$t("general.delete"))+" ")])],1)]}}])})],1),o("el-dialog",{attrs:{title:e.$t("webhook.add"),visible:e.newWebHookDialogVisible},on:{"update:visible":function(o){e.newWebHookDialogVisible=o}}},[o("el-form",{attrs:{model:e.newWebHookForm,"label-width":"120px"}},[o("el-form-item",{attrs:{label:e.$t("webhook.url")}},[o("el-input",{model:{value:e.newWebHookForm.URL,callback:function(o){e.$set(e.newWebHookForm,"URL",o)},expression:"newWebHookForm.URL"}})],1),o("el-form-item",{attrs:{label:e.$t("webhook.type")}},[o("el-select",{attrs:{placeholder:e.$t("webhook.please_select")},model:{value:e.newWebHookForm.Type,callback:function(o){e.$set(e.newWebHookForm,"Type",o)},expression:"newWebHookForm.Type"}},e._l(e.typeOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("webhook.token")}},[o("el-input",{model:{value:e.newWebHookForm.Token,callback:function(o){e.$set(e.newWebHookForm,"Token",o)},expression:"newWebHookForm.Token"}}),o("p",[e._v(e._s(e.$t("webhook.token_tips")))])],1),o("el-form-item",{attrs:{label:e.$t("webhook.retry")}},[o("el-input-number",{attrs:{min:0},model:{value:e.newWebHookForm.Retry,callback:function(o){e.$set(e.newWebHookForm,"Retry",o)},expression:"newWebHookForm.Retry"}})],1),o("el-form-item",{attrs:{label:e.$t("webhook.timeout")}},[o("el-input-number",{attrs:{min:0},model:{value:e.newWebHookForm.Timeout,callback:function(o){e.$set(e.newWebHookForm,"Timeout",o)},expression:"newWebHookForm.Timeout"}}),o("p",[e._v(e._s(e.$t("webhook.timeout_tips")))])],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.onNewWebHook}},[e._v(e._s(e.$t("webhook.publish")))])],1),o("el-dialog",{attrs:{title:e.$t("webhook.edit"),visible:e.editWebHookDialogVisible},on:{"update:visible":function(o){e.editWebHookDialogVisible=o}}},[o("el-form",{attrs:{model:e.editWebHookForm,"label-width":"120px"}},[o("el-form-item",{attrs:{label:e.$t("webhook.url")}},[o("el-input",{model:{value:e.editWebHookForm.URL,callback:function(o){e.$set(e.editWebHookForm,"URL",o)},expression:"editWebHookForm.URL"}})],1),o("el-form-item",{attrs:{label:e.$t("webhook.type")}},[o("el-select",{attrs:{placeholder:e.$t("webhook.please_select")},model:{value:e.editWebHookForm.Type,callback:function(o){e.$set(e.editWebHookForm,"Type",o)},expression:"editWebHookForm.Type"}},e._l(e.typeOptions,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("webhook.token")}},[o("el-input",{model:{value:e.editWebHookForm.Token,callback:function(o){e.$set(e.editWebHookForm,"Token",o)},expression:"editWebHookForm.Token"}}),o("p",[e._v(e._s(e.$t("webhook.token_tips")))])],1),o("el-form-item",{attrs:{label:e.$t("webhook.retry")}},[o("el-input-number",{attrs:{min:0},model:{value:e.editWebHookForm.Retry,callback:function(o){e.$set(e.editWebHookForm,"Retry",o)},expression:"editWebHookForm.Retry"}})],1),o("el-form-item",{attrs:{label:e.$t("webhook.timeout")}},[o("el-input-number",{attrs:{min:0},model:{value:e.editWebHookForm.Timeout,callback:function(o){e.$set(e.editWebHookForm,"Timeout",o)},expression:"editWebHookForm.Timeout"}}),o("p",[e._v(e._s(e.$t("webhook.timeout_tips")))])],1)],1),o("el-button",{attrs:{type:"primary"},on:{click:e.onEditWebHook}},[e._v(e._s(e.$t("webhook.edit")))])],1)],1)},i=[],r={name:"WebHook",data:function(){return{webHookList:[],isLoading:!0,newWebHookDialogVisible:!1,editWebHookDialogVisible:!1,newWebHookForm:{URL:"",Type:"",Token:"",Retry:0,Timeout:0},editWebHookForm:{},typeOptions:{any:this.$i18n.t("webhook.type_any"),new_round:this.$i18n.t("webhook.type_new_round"),submit_flag:this.$i18n.t("webhook.type_submit_flag"),game_begin:this.$i18n.t("webhook.type_game_begin"),game_pause:this.$i18n.t("webhook.type_game_pause"),game_end:this.$i18n.t("webhook.type_game_end")}}},mounted:function(){this.getWebHooks()},methods:{getWebHooks:function(){var e=this;this.utils.GET("/manager/webhooks").then((function(o){e.webHookList=o,e.isLoading=!1})).catch((function(o){return e.$message.error(o)}))},onNewWebHook:function(){var e=this;this.utils.POST("/manager/webhook",this.newWebHookForm).then((function(o){e.$message.success(o),e.newWebHookDialogVisible=!1,e.newWebHookForm={URL:"",Type:"",Token:"",Retry:0,Timeout:0},e.getWebHooks()})).catch((function(o){e.$message.error(o)}))},onEditWebHook:function(){var e=this;this.utils.PUT("/manager/webhook",this.editWebHookForm).then((function(o){e.$message.success(o),e.editWebHookDialogVisible=!1,e.getWebHooks()})).catch((function(o){e.$message.error(o)}))},handleDelete:function(e){var o=this;this.utils.DELETE("/manager/webhook?id="+e.ID).then((function(e){o.$message({message:e,type:"success"}),o.getWebHooks()})).catch((function(e){return o.$message({message:e,type:"error"})}))}}},l=r,a=t("2877"),s=Object(a["a"])(l,n,i,!1,null,"3e52274a",null);o["default"]=s.exports},b64b:function(e,o,t){"use strict";var n=t("23e7"),i=t("7b0b"),r=t("df75"),l=t("d039"),a=l((function(){r(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(e){return r(i(e))}})},e267:function(e,o,t){"use strict";var n=t("e330"),i=t("e8b5"),r=t("1626"),l=t("c6b6"),a=t("577e"),s=n([].push);e.exports=function(e){if(r(e))return e;if(i(e)){for(var o=e.length,t=[],n=0;n<o;n++){var b=e[n];"string"==typeof b?s(t,b):"number"!=typeof b&&"Number"!==l(b)&&"String"!==l(b)||s(t,a(b))}var u=t.length,c=!0;return function(e,o){if(c)return c=!1,o;if(i(this))return o;for(var n=0;n<u;n++)if(t[n]===e)return o}}}},e9c4:function(e,o,t){"use strict";var n=t("23e7"),i=t("d066"),r=t("2ba4"),l=t("c65b"),a=t("e330"),s=t("d039"),b=t("1626"),u=t("d9b5"),c=t("f36a"),m=t("e267"),k=t("04f8"),d=String,p=i("JSON","stringify"),f=a(/./.exec),h=a("".charAt),w=a("".charCodeAt),g=a("".replace),y=a(1..toString),H=/[\uD800-\uDFFF]/g,W=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,_=!k||s((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),v=s((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),F=function(e,o){var t=c(arguments),n=m(o);if(b(n)||void 0!==e&&!u(e))return t[1]=function(e,o){if(b(n)&&(o=l(n,this,d(e),o)),!u(o))return o},r(p,null,t)},T=function(e,o,t){var n=h(t,o-1),i=h(t,o+1);return f(W,e)&&!f($,i)||f($,e)&&!f(W,n)?"\\u"+y(w(e,0),16):e};p&&n({target:"JSON",stat:!0,arity:3,forced:_||v},{stringify:function(e,o,t){var n=c(arguments),i=r(_?F:p,null,n);return v&&"string"==typeof i?g(i,H,T):i}})}}]);